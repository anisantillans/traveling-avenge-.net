function removeAccents(e) { e = e.split(""), strAccentsOut = new Array, strAccentsLen = e.length; for (var a = "ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž", t = ["A", "A", "A", "A", "A", "A", "a", "a", "a", "a", "a", "a", "O", "O", "O", "O", "O", "O", "O", "o", "o", "o", "o", "o", "o", "E", "E", "E", "E", "e", "e", "e", "e", "e", "C", "c", "D", "I", "I", "I", "I", "i", "i", "i", "i", "U", "U", "U", "U", "u", "u", "u", "u", "N", "n", "S", "s", "Y", "y", "y", "Z", "z"], i = 0; i < strAccentsLen; i++) -1 != a.indexOf(e[i]) ? strAccentsOut[i] = t[a.indexOf(e[i])] : strAccentsOut[i] = e[i]; return strAccentsOut = strAccentsOut.join(""), strAccentsOut } function AutoTargetAjaxCerrarModal() { var e = arguments[3]; $($(e).data("ajax-update")).closest(".modal").nextAll().modal("hide") } function RebindJquery(e) { e.find(".datetimepicker").datepicker({ format: "dd/mm/yyyy", autoclose: !0, language: "es" }), e.find('.select2, [data-plugin="select2"]').select2({ allowClear: !0, placeholder: "[-Seleccione-]" }), e.find('[data-toggle="tooltip"]').tooltip(), e.find("[data-mask]").each(function (e, a) { $(this).mask($(this).data("mask")) }), e.find("#clearAll").click(function (e, a) { $("input[type=text]").each(function () { $(this).val("") }), $(".select2").each(function () { $(this).val(null).trigger("change") }), $(this).parent().find('button[type="submit"]').click() }) } function ShowLightAlert(e, a) { var t = ""; switch (e) { case "warning": t = "<i class='fa fa-exclamation-circle'></i><strong> ¡Atención! </strong>"; break; case "danger": t = "<i class='fa fa-times-circle'></i><strong> ¡Error! </strong>"; break; case "info": t = "<i class='fa fa-info-circle'></i><strong> Ojo. </strong>"; break; case "success": t = "<i class='fa fa-check-circle'></i><strong> ¡! </strong>" } t += a, $("html,body").animate({ scrollTop: 0 }, 500), setTimeout(function () { var a = { type: e, namespace: "pa_page_alerts_default" }; PixelAdmin.plugins.alerts.add(t, a) }, 800) } function EnviarMensajeGrowl(e, a, t) { switch (e) { case "error": $.growl.error({ title: a, message: t }); break; case "notice": $.growl.notice({ title: a, message: t }); break; case "warning": $.growl.warning({ title: a, message: t }); break; case "info": $.growl.info({ title: a, message: t, size: "large" }); break; case "default": $.growl({ title: a, message: t, size: "large" }) } } function CreateModalLink(e) { $("body").append($('<span data-type="modal-link" class="CreateModalLinkElement" data-source-url="' + e + '">')); $(".CreateModalLinkElement").last().click().remove() } var numero_modal = 1; $(document).on("click", '[data-type="modal-link"]', function (e) { e.preventDefault(); var a = $(this).attr("data-source-url"); if (-1 == a.indexOf(tabMinimizedValue)) { var t = $("#default-modal-loading"), i = $('<div class="modal fade"><div class="modal-dialog"><div class="modal-content"></div></div></div>'), n = i.find(".modal-content"); n.html(t.html()), $("#default-modal-container").append(i); var o = i.modal({ backdrop: "static", show: !0 }); i.css("z-index", 1050 + 20 * numero_modal + 10), i.css("top", 10 * numero_modal + "px"), $(".modal-backdrop").last().css("z-index", 1050 + 20 * numero_modal), numero_modal += 1, n.load(a, function (e, a, t) { "error" == a ? n.html($("#default-modal-loading-error").html()) : RebindJquery(n) }), o.on("hidden.bs.modal", function () { tabMinimizing || ($(this).remove(), numero_modal -= 1), tabMinimizing = !1 }) } else console.log(tabMinimizedValue) }); var tabMinimized = 0, tabMinimizing = !1, tabMinimizedValue = null; $(document).on("click", "[data-minimize]", function () { tabMinimized += 1; var e = $(this).data("target"); tabMinimizing = !0, tabMinimizedValue = $(document).find("#" + e + " form").attr("action"), $(document).find("#" + e).closest(".modal").modal("hide"), $(document).find("#minimize-container li").removeClass("active"), $("#minimize-container").append('<li class="active"><a href="#" data-toggle="modal" data-target="' + e + '" style="cursor:pointer;"><i class="fa fa-thumb-tack" aria-hidden="true"></i> Ticket Activo </a></li>') }), $(document).on("click", "#minimize-container li > a", function () { var e = $(this).data("target"); tabMinimized -= 1, tabMinimizedValue = null, $(document).find("#" + e).closest(".modal").modal("show"), $(this).parent().remove() }), $(document).on("change", '[data-type="cascade-dropdown-list"]', function (e) { var a = $(this).attr("data-source-url"), t = $(this).attr("data-filter"), n = $(this).val(); if ("" != n) { var o = $(this).attr("data-update-target"), l = {}; l[t] = n; var r = $(o); r.attr("disabled", "disabled"), r.find('option[value!=""]').remove(), $.ajax({ type: "POST", url: a, data: l, success: function (e) { var a = $(o), t = a.attr("data-value-member"), n = a.attr("data-text-member"); for (a.html(""), a.append('<option value="">[- Seleccione -]</option>'), i = 0; i < e.length; i++) a.append($("<option>").text(e[i][n]).attr("value", e[i][t])); a.removeAttr("disabled"), a.trigger("change") }, async: !1 }) } }), $(function () { $('.select2, [data-plugin="select2"]').select2({ allowClear: !0, placeholder: "[-Seleccione-]" }), $(".datetimepicker").datepicker({ format: "dd/mm/yyyy", autoclose: !0, language: "es" }) });